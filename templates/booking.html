{% extends 'base.html' %}

{% block title %}Book a Table - My Hungarian Restaurant{% endblock %}

{% block content %}
<h2>Book a Table</h2>
<p>
    Reserve your table at My Hungarian Restaurant by filling out the form below.
</p>
<section>
    <h2>Book Your Table</h2>
    <form action="/booking/submit" method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <input type="submit" value="Book Now">
    </form>
</section>
{% endblock %}
{% block extra_js %}
<script>
    const tableSelect = document.querySelector("#id_table");
    const timeSelect = document.querySelector(".time-field");

    tableSelect.addEventListener("change", () => {
        const tableId = tableSelect.value;
        window.location.href = `/booking/create/?table=${tableId}`;
    });
</script>
{% endblock %}